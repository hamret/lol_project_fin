# League of Legends Challenger 라인별 기여도 분석 시스템
---

## 1. 프로젝트 개요

### 1.1 주제 및 목표 (코드 기반 수정본)
본 프로젝트는 League of Legends Challenger 구간 경기의 분단위 타임라인 데이터로부터 라인별 시계열 특징을 추출하고, 이를 이용해 21~25분 구간의 라인별 골드 격차와 기여도를 예측·해석하는 것을 목표로 한다.

1. **0 ~ 15분 동안의 라인별 시계열 피처(골드, 경험치, CS, 딜량, 오브젝트·정글 개입 등)로부터 21 ~ 25분 라인별 골드 격차를 LSTM으로 예측할 수 있는가?**
2. **예측된 골드 격차를 기반으로 정규화한 ‘라인별 기여도’를 정의했을 때, 15분 시점·예측값·실제값 사이의 패턴 차이는 어떻게 나타나는가?**
3. **한 경기 내부에서 각 라인의 기여도가 시간에 따라 어떻게 변하며(15분→21~25분), 정글·바텀 등 특정 라인이 초반/중반에 차지하는 비중은 어느 정도인가?** 
4. **라인별 골드 격차 예측 결과(막대/선그래프, 레이더 차트, 산점도)를 통해 LSTM 모델의 예측 정확도와 라인별 영향력을 정량적으로 어떻게 평가할 수 있는가?**

### 1.2 데이터셋

| 항목 | 내용 |
|------|------|
| **데이터 범위** | 2025년 1월~4월 |
| **티어** | Challenger (최상위 구간) |
| **소환사 수** | 약 300명 |
| **경기 데이터** | 약 53,000경기 |
| **데이터 구조** | Match JSON (기본 정보) + Timeline JSON (분단위 상세 정보) |
| **라인 정의** | TOP, JUNGLE, MID, BOTTOM (BOTTOM = ADC + SUP 한 묶음) |

### 1.3 핵심 개념: 라인별 기여도 (Line Contribution)

#### 정의
각 라인이 경기 결과에 미치는 영향을 **분단위 게임 상태 지표로부터 정규화**하여 측정한 값

#### 절대 스케일 (Absolute Scale)
- **기준점**: 모든 경기의 라인별 값들의 **중앙값 = 1.0**
- **해석**:
  - 1.0 이상 → 평균 이상의 기여도
  - 1.0 미만 → 평균 이하의 기여도
  - 범위: 0 ~ ∞ (상한 없음, 이상치 허용)

#### 특징
- 경기별, 소환사별로 **독립적으로 계산**
- **분단위 시계열 데이터**로부터 도출 (0~25분 또는 게임 종료까지)
- **승패 라벨은 검증/해석용으로만 사용** (모델 학습에 미사용)

---

## 2. 수행 절차

### 2.1 데이터 전처리

#### 2.1.1 Raw 데이터 로드

```
Raw JSON Data
├── match_*.json
│   ├── info.participants: 플레이어 정보 (라인, 팀 ID, 최종 통계)
│   └── info.teams: 팀 정보 (승/패, 목표 달성 여부)
│
└── timeline_*.json
    └── info.frames: 분단위 프레임 (0분부터 게임 종료까지)
        └── participantFrames[player_id]
            ├── totalGold: 누적 골드
            ├── xp: 누적 경험치
            ├── level: 챔피언 레벨
            ├── minionsKilled: CS (미니언 처치)
            ├── jungleMinionsKilled: 정글 CS
            ├── damageStats.totalDamageDealtToChampions: 챔피언 피해
            └── position: {x, y} 맵 좌표
```

#### 2.1.2 라인별 지표 추출 (Feature Extraction)

`FeatureBuilderChallengerFull` 클래스에서 **분단위 20개 피처**를 각 라인별로 추출:

**경제 지표 (6개)**
- `gold`: 누적 골드 (직접 경제가)
- `xp`: 누적 경험치 (레벨 = 전투력)
- `level`: 챔피언 레벨
- `minionsKilled`: CS (경제 효율성)
- `jungleMinionsKilled`: 정글 CS (추가 경제)
- `totalDamageToChampions`: 챔피언 피해량 (전투 기여도)

**라인 격차 지표 (2개)**
- `gold_diff`: 아군 vs 적군 골드 차이
- `xp_diff`: 아군 vs 적군 경험치 차이

**성장률 지표 (2개)**
- `gold_rate`: 분당 골드 증분 (경제 가속도)
- `xp_rate`: 분당 경험치 증분 (레벨 가속도)

**종합 점수 (2개)**
- `power_score`: 종합 권력 지수 = gold + xp × 0.7
- `tempo`: 팀 게임 템포 = (objective_score + jungle_pressure) / 10

**정글 개입도 (1개)**
- `jungle_pressure`: 정글러의 라인 압박도 (거리 기반)
  - 공식: max(0, (8000 - euclidean_distance) / 8000)
  - 범위: 0~2 (양 팀 정글러 모두 포함)

**오브젝트 지표 (9개)**
- `objective_score`: 오브젝트 가중 점수
  - Infernal Dragon × 3 + Mountain × 2.5 + Ocean × 2 + Cloud × 1.5
  - Rift Herald × 3 + Herald Summon × 2 + Tower Kills × 1.5
- `drake_infernal`, `drake_ocean`, `drake_mountain`, `drake_cloud`: 드래곤 타입별 처치 수
- `herald_count`: 전령 처치 수
- `towerKills`: 타워 파괴 기여도

**총 입력 데이터**
- Shape: (시퀀스 길이=16, 4라인 × 20피처) = **(16, 80)**

#### 2.1.3 데이터 정규화

```python
# StandardScaler 적용
X_scaled = (X - mean(X)) / std(X)
Y_scaled = (Y - mean(Y)) / std(Y)

# 목적: 피처 간 스케일 통일, 신경망 학습 안정성 향상
```

---

### 2.2 라인별 기여도 정의 (Contribution Definition)

#### 2.2.1 기여도 산출 방식

**Step 1: 경기별 누적 기여도**

각 라인의 분단위 골드 격차의 절댓값을 합산하여 정규화:

```
C_line(match) = |gold_diff_lane(0)| + |gold_diff_lane(1)| + ... + |gold_diff_lane(T)|
             (0분부터 게임 종료까지)

기여도_정규화 = C_line(match) / (C_TOP + C_JUNGLE + C_MID + C_BOTTOM)
```

**Step 2: 절대 스케일 변환 (중앙값 = 1.0)**

전체 경기에서 라인별 기여도의 중앙값을 1.0으로 설정:

```
기여도_최종(라인, 경기) = 기여도_정규화 / median(기여도_정규화_전체)
```

**Step 3: 해석**

- **1.0 이상**: 평균 이상의 경기별 기여도
- **1.0 미만**: 평균 이하의 경기별 기여도
- 이를 통해 **모든 라인을 동일 기준으로 비교 가능**

#### 2.2.2 라인 정의

| 라인 | 포함 역할 | 특징 |
|------|---------|------|
| **TOP** | 탑 라인 (1명) | 단독 라인, 1v1 라인전, 맵 사이드 컨트롤 |
| **JUNGLE** | 정글 (1명) | 전체 맵 이동, 갱크 및 오브젝트 주도, 초반 게임 템포 결정 |
| **MID** | 미드 라인 (1명) | 중앙 맵, 로밍 및 팀파이트 주도, 팀 이니시에이팅 |
| **BOTTOM** | ADC + SUP (2명) | 2v2 라인전, 팀파이트 피해 딜/보호, 후반 게임 핵심 |

---

### 2.3 실험 및 분석

#### 2.3.1 한 경기 단위 분석: 시간축 기여도 곡선

**목표**: 경기 진행(0~25분)에 따라 각 라인의 기여도가 어떻게 변화하는지 시각화

**방법**:
- x축: 게임 경과 시간 (분)
- y축: 누적 기여도 또는 분단위 기여도
- 라인별 색상: TOP(파랑), JUNGLE(빨강), MID(초록), BOTTOM(노랑)
- 승패 표시: 승리팀(밝은 배경), 패배팀(어두운 배경)

**해석**:
- 어느 라인이 언제부터 활발해졌는가?
- 팀파이트 전후로 기여도 급등이 있는가?
- 패배팀은 특정 시점에 기여도가 집중되어 있는가?
- 라인 간 상호작용 (정글의 갱크 후 라인 기여도 변화)?

#### 2.3.2 소환사 단위 분석: 개인별 일관성 플롯

**목표**: 평균 170경기의 기여도 일관성을 시각화

**방법**:
- x축: 경기 번호 (1 ~ N, 약 170경기)
- y축: 기여도 (중앙값=1.0 기준선 명시)
- 점 색상: 승리(파랑) / 패배(빨강)
- 추세선: 선형 회귀로 성능 추세 표현 (상향/하향/평평)

**수집 지표**:
- 평균 기여도: 모든 경기의 평균
- 표준편차: 성능 기복 (낮을수록 안정적)
- 승리율: 기여도 > 1.0일 때의 실제 승리율
- 추세 기울기: 시간에 따른 성능 변화 방향

#### 2.3.3 라인별 분포 비교: Box/Violin Plot

**목표**: Challenger 전체에서 각 라인의 기여도 분포 파악

**방법**:
- x축: 4개 라인 (TOP, JUNGLE, MID, BOTTOM)
- y축: 기여도 (중앙값=1.0)
- 박스플롯 또는 바이올린 플롯 표시
- **색상 구분**: 승리팀(파랑) vs 패배팀(빨강)

**통계 검정**:
- **ANOVA**: 라인 간 기여도 평균이 유의미하게 다른가?
- **t-test**: 승리팀 vs 패배팀 기여도 차이가 유의미한가?
- **Levene's test**: 라인별 분산이 동일한가? (분산의 균질성)

---

## 3. 필수 아웃풋 (Fixed Output)

### 3.1 라인별 평균 기여도 분포

#### 형식

```
┌────────────────────────────────────────────────┐
│      라인별 기여도 분포 (Challenger 전체)       │
├────────────────────────────────────────────────┤
│                                                │
│ 기여도 │   ◇(승)                               │
│  1.5  │  ╱───╲                                │
│       │ ╱     ╲                               │
│  1.0  │─────────── (중앙값 = 1.0)            │
│       │╱       ╲                              │
│  0.5  │        ╲──◇(패)                      │
│  0.0  │        ╱ ╲                           │
│       └────────────────────────────────────── │
│         TOP  JGL  MID  BOT  (라인)             │
│                                                │
│ ■ 파랑: 승리팀    ■ 빨강: 패배팀               │
└────────────────────────────────────────────────┘
```

#### 출력 내용
1. **라인별 기여도 평균** (Top, Jungle, Mid, Bottom)
2. **승리팀 vs 패배팀 기여도 비교**
3. **기여도 분포의 표준편차** (안정성 지표)
4. **통계 검정 결과** (유의미한 차이 여부)

#### 해석 예시
```
✓ Jungle과 Mid의 기여도가 TOP보다 높다 (p < 0.05)
✓ 승리팀의 BOTTOM 기여도가 패배팀보다 0.3 이상 높다
✓ MID는 기여도 편차가 크다 (로밍의 불확실성)
✓ TOP은 기여도 편차가 작다 (1v1 라인전의 예측성)
```

---

### 3.2 개인별 일관성 플롯 (Consistency Plot)

#### 형식

```
기여도 │                      ◆(승)
  2.5  │               ◆  ◆    /
       │           ◆  ◆  ◆  /
  2.0  │      ◆  ◆  ◆     /
       │   ◆  ◆  ◆  ◆  /
  1.5  │  ◆  ◆    /  ◆
       │ ◆  ◆   /   
  1.0  │──────────── (기준선)
       │    ◆◆  /
  0.5  │   ◆  ◆ /◆ ● (패)
       │    ◆ /  
  0.0  │───────────────────────
       │  10   50   100   150
         경기 번호 (약 170경기)
```

#### 수집 정보
1. **선택된 소환사의 경기별 기여도** (x축: 경기 번호, y축: 기여도)
2. **각 경기의 승패 결과** (색상으로 표시)
3. **기여도의 통계량**:
   - 평균: 선수의 전반적 수준
   - 표준편차: 일관성 지표 (낮을수록 안정적)
   - 범위: 최고/최저 기여도
4. **추세선 기울기**: 성능 상승/하락 추세
5. **승리 기여도 vs 패배 기여도**: 승리 조건

---

## 4. 선택 아웃풋 (Optional Output)

### 4.1 군집 분석 (Clustering)

**목표**: 소환사의 플레이 스타일을 분류

#### 특징 벡터 구성
```
각 소환사에 대해:
1. 라인별 평균 기여도 (4차원)
2. 라인별 기여도 표준편차 (4차원)
3. 전체 경기 중 기여도 > 1.0인 경기의 비율 (1차원)
4. 기여도의 최댓값과 최솟값의 비율 (1차원)

→ 총 10차원 벡터
```

#### 알고리즘
1. **정규화**: StandardScaler
2. **차원 축소** (선택): PCA (2D 시각화용)
3. **군집화**: K-Means, DBSCAN, 또는 Hierarchical Clustering
4. **클러스터 수**: Elbow Method 또는 Silhouette Score로 결정

#### 결과 해석 예시
```
Cluster A: "안정형" (Stable)
├─ 낮은 기여도 표준편차 (일관된 성능)
├─ 고정된 플레이 스타일
└─ 승리율은 높지 않지만 예측 가능

Cluster B: "폭발형" (Explosive)
├─ 높은 기여도 평균 및 높은 표준편차
├─ 기여도 > 1.5인 경기 많음
└─ 승리율은 높지만 기복이 심함

Cluster C: "후반형" (Late-Game)
├─ 초반 기여도 < 중반 기여도 < 후반 기여도
├─ 초반 피해를 후반에서 보전
└─ 특정 챔피언이나 포지션에 특화

Cluster D: "부진형" (Struggling)
├─ 낮은 평균 기여도 (< 0.8)
├─ 높은 기복 (표준편차 > 0.3)
└─ 승리율 극히 낮음
```

---

### 4.2 이벤트 기반 분석 (Event-Based Analysis)

**목표**: 주요 게임 이벤트 전후로 기여도 변화 분석

#### 이벤트 종류
- **Dragon 처치**: Infernal, Ocean, Mountain, Cloud 각각 분석
- **Rift Herald 처치**
- **Baron 처치** (필요시)
- **타워 파괴** (라인별)
- **팀 파이트**: 킬 수가 많이 집중된 구간

#### 방법론
```
1. 이벤트 시간 추출: timeline에서 이벤트 발생 분 t 식별
2. 윈도우 설정: [t-5, t+5] (총 10분 분석 구간)
3. 기여도 비교:
   - 이벤트 전 (t-5 ~ t): C_before
   - 이벤트 후 (t ~ t+5): C_after
   - 변화율: (C_after - C_before) / C_before × 100%
4. 라인별 변화 비교
```

#### 시각화
- 이벤트 종류별 × 라인별 변화율 박스플롯
- 이벤트 타입에 따른 영향도 비교 (히트맵)

#### 해석 예시
```
Dragon 처치 후 기여도 변화:
├─ Infernal: Jungle & Mid 기여도 ↑ (정글러 주도권)
├─ Ocean: Bottom 기여도 ↑ (보조 효과)
├─ Mountain: Top 기여도 ↑ (방어력 스태틱)
└─ Cloud: 전반적 기여도 → (가장 약한 효과)

패배팀의 전령 처치 후:
└─ 모든 라인의 기여도 급등 (반격 신호)
   → 실제 승리율은? (분석 대상)
```

---

### 4.3 소환사 비교 분석 (Summoner Comparison)

**목표**: 특정 소환사 vs 전체 평균 (동일 라인) 비교

#### 시각화: 스파이더 차트 (Radar Chart)
```
        기여도 (TOP)
           /\
          /  \
         /    \
    경제효율 /────\ 생존력
      (골드/분) \        /
              \ /
             팀 기여도
         (킬+어시스트)
```

#### 수집 지표
1. **라인별 기여도**: 해당 라인의 평균 기여도
2. **경제 효율성**: 골드 / 게임 시간
3. **전투력**: (피해량 / 골드)
4. **생존력**: 데스 수 / 게임 수
5. **팀 기여도**: (킬 + 어시스트) / 게임 수

#### 해석
- 다각형의 면적이 크면 종합적으로 우수
- 특정 축이 튀면 그 방면의 특화
- 평균과의 비교로 강점/약점 파악

---

## 5. 분석 결과 및 시각화

### 5.1 15분 라인별 기여도 분석

<a align="center">                            
<img src="images/15min_contribution.png" width="600"></a> 

*그림 1: 게임 초반(0~15분) 라인별 기여도 분포*

**분석 내용**:
- **TOP (탑)**: 1.7% - 극히 낮은 기여도
  - 해석: 초반은 1v1 라인전에 집중하는 단독 라인
  - 의미: 탑은 초반에 경제적 영향이 미미함
  
- **JUNGLE (정글)**: 22.9% - 중간 수준 기여도
  - 해석: 초반 정글 아이템 수집 + 첫 갱크 시작 시점
  - 의미: 정글러의 초반 영향력은 제한적이지만 증가 추세
  
- **MID (미드)**: 13.7% - 낮은 기여도
  - 해석: 1v1 라인전 후 로밍 전 구간
  - 의미: 초반은 미드도 로컬 라인 안에 제한됨
  
- **BOTTOM (바텀)**: 61.7% - **압도적으로 높음**
  - 해석: 2v2 라인전에서 상호작용 극대화
  - 의미: 초반 게임 템포를 BOTTOM이 주도!

**주요 발견**:
```
✓ 초반 게임(0~15분)은 BOTTOM 라인이 전체의 60% 이상을 차지
✓ TOP은 초반에 거의 영향이 없음 (단독 라인전)
✓ JUNGLE의 초반 영향력은 생각보다 제한적 (22%)
✓ 초반 게임을 이기려면 BOTTOM 라인의 우위가 필수!
```

---

### 5.2 기여도 변화 선그래프 (15분 → 예측 → 실제)

<a align="center">                            
<img src="images/line_contribution.png" width="600"></a> 

*그림 2: 초반(15분) → 중반(예측) → 후반(실제) 기여도 변화 추이*

**분석 내용**:
- **x축**: 4개 라인 (TOP, JUNGLE, MID, BOTTOM)
- **3개의 선**: 게임 진행에 따른 기여도 변화
  - 파랑선 (예축): 15분 초반 기여도
  - 주황선 (예측): LSTM이 예측한 21~25분 기여도
  - 초록선 (실제): 게임 결과의 실제 기여도

**라인별 변화 패턴**:

| 라인 | 15분 → 예측 | 예측 → 실제 | 특성 |
|------|-----------|-----------|------|
| **TOP** | ↑ 증가 | ↓ 감소 | 초반 낮음 → 중반 증가 → 후반 감소 |
| **JUNGLE** | ↑ 증가 | ↓ 감소 | 초반부터 점진적 증가 후 수렴 |
| **MID** | → 안정 | → 안정 | 가장 일정한 기여도 유지 |
| **BOTTOM** | ↑ 큰 증가 | ↓ 감소 | 초반 최고 → 중반 최고 → 후반 감소 |

**주요 발견**:
```
✓ BOTTOM의 초반 우위는 게임 중반으로 갈수록 약화됨
✓ JUNGLE은 지속적으로 기여도 증가 (갱크 & 오브젝트)
✓ MID는 가장 안정적인 기여도 (로밍의 균형)
✓ TOP은 후반으로 갈수록 역할 축소 (팀파이트 중심 전환)

게임 운영 인사이트:
   - 초반: BOTTOM 우위 중시
   - 중반: JUNGLE의 압박도와 오브젝트 중요
   - 후반: 모든 라인의 균형 있는 활동 필수
```

---

### 5.3 골드 격차 선그래프 (예측 vs 실제)

<a align="center">                            
<img src="images/line_gold_diff.png" width="600"></a> 

*그림 3: 라인별 골드 격차 변화 (예측 vs 실제 비교)*

**분석 내용**:
- **x축**: 4개 라인 (탑, 정글, 미드, 바텀)
- **y축**: 골드 격차 (음수 = 패배팀 우위, 양수 = 승리팀 우위)
- **파랑선**: LSTM 모델의 예측값 (21~25분 기대 골드 격차)
- **주황선**: 게임 결과의 실제값

**라인별 골드 격차**:

| 라인 | 예측 | 실제 | 오차 | 의미 |
|------|------|------|------|------|
| **탑** | -850 | -900 | -50 | 탑이 경제적 열세 (패배팀 관점) |
| **정글** | 1750 | 1350 | -400 | 정글의 높은 골드 편차 |
| **미드** | -750 | -800 | -50 | 미드의 안정적 경제 차이 |
| **바텀** | 2050 | 2100 | +50 | 바텀의 가장 큰 격차 |

**주요 발견**:
```
✓ 정글의 예측 오차가 가장 큼 (-400)
  → 정글러의 플레이에 따라 변수가 많음

✓ 바텀의 예측이 가장 정확함 (+50)
  → 2v2 라인전의 경제 흐름이 결정적

✓ TOP과 MID는 안정적인 경제 차이 유지
  → 1v1 라인전의 결과가 일관성 있음

✓ 정글과 바텀의 골드 격차 > 1500
  → 이들 라인이 경제 우위 결정!
```

---

### 5.4 21~25분 라인별 기여도 비교 (예측 vs 실제)

<a align="center">                            
<img src="images/future_contribution.png" width="600"></a> 

*그림 4: 중반~후반(21~25분) 라인별 기여도 (예측 vs 실제)*

**분석 내용**:
- **x축**: 4개 라인 (탑, 정글, 미드, 바텀)
- **파랑 막대**: LSTM 모델의 예측 기여도
- **주황 막대**: 게임의 실제 기여도
- **높이 = 기여도 크기**: 클수록 영향력 큼

**라인별 기여도 비교**:

| 라인 | 예측 | 실제 | 정확도 | 설명 |
|------|------|------|--------|------|
| **탑** | 18.5% | 17.2% | 93% | 높은 정확도 (예측 우수) |
| **정글** | 35.5% | 26.8% | 75% | 과대 예측 (실제보다 높게 예측) |
| **미드** | 15.2% | 15.6% | 97% | **가장 높은 정확도** |
| **바텀** | 30.8% | 40.4% | 76% | 과소 예측 (실제가 더 높음) |

**주요 발견**:
```
✓ MID의 예측이 가장 정확 (97%)
  → 로밍 기반 안정적 기여도

✓ JUNGLE은 과대 예측 (예측 35.5% vs 실제 26.8%)
  → 갱크 성공률이 생각보다 낮음

✓ BOTTOM은 과소 예측 (예측 30.8% vs 실제 40.4%)
  → 후반으로 갈수록 영향력이 더 큼!

✓ 정글 > 바텀 > 탑 > 미드 순서로 기여도
  → 팀게임 메커니즘이 반영됨
```

---

### 5.5 기여도 분석 통계 정보

<a align="center">                            
<img src="images/231.png" width="600"></a> 

*그림 5: 라인별 기여도 분석 통계 요약*

**통계 분석 결과**:

```
===== 15분 기여도 (초반) =====
탑: 1.7%      (최저)
정글: 22.9%   
미드: 13.7%   
바텀: 61.7%   (최고)

===== 미래 기여도 (예측) =====
탑: 18.5%     
정글: 35.5%   (최고 예측)
미드: 15.2%   (최저)
바텀: 30.8%   

===== 미래 기여도 (실제) =====
탑: 17.2%     
정글: 26.8%   
미드: 15.6%   
바텀: 40.4%   (최고 실제)
```

**해석**:
```
1. 초반(15분)은 BOTTOM이 절대적 우위
   └─ 초반 게임의 흐름은 BOTTOM 라인 우위로 결정

2. 게임 진행(15분 → 21~25분)에 따른 변화
   ├─ TOP: 1.7% → 17.2% (10배 증가)
   │   └─ 초반 낮음 → 후반 회복
   ├─ JUNGLE: 22.9% → 26.8% (소폭 증가)
   │   └─ 지속적 영향력 유지
   ├─ MID: 13.7% → 15.6% (안정적)
   │   └─ 가장 일관된 기여도
   └─ BOTTOM: 61.7% → 40.4% (감소)
       └─ 초반 우위는 후반으로 갈수록 약화

3. 최종 기여도 순서 (실제)
   BOTTOM(40.4%) > JUNGLE(26.8%) > TOP(17.2%) > MID(15.6%)
   
   ✓ BOTTOM: 여전히 최고의 기여도 (팀게임 핵심)
   ✓ JUNGLE: 꾸준한 2위 (갱크 & 오브젝트)
   ✓ TOP & MID: 상대적으로 낮음 (1v1 라인전)
```

---

### 5.6 21~25분 골드 격차 (예측 vs 실제) 

<a align="center">                            
<img src="images/bar_pred_vs_real.png" width="600"></a> 

*그림 6: 라인별 골드 격차 비교 (예측 vs 실제 막대 그래프)*

**분석 내용**:
- **파랑 막대**: LSTM 모델의 예측 골드 격차
- **주황 막대**: 게임의 실제 골드 격차
- **높이의 차이 = 예측 오차**

**라인별 골드 격차**:

| 라인 | 예측 | 실제 | 오차 크기 | 평가 |
|------|------|------|----------|------|
| **탑** | -200 | -100 | 100 | ✓ 예측 우수 |
| **정글** | 1400 | 1350 | 50 | ✓✓ 매우 정확 |
| **미드** | -750 | -800 | 50 | ✓✓ 매우 정확 |
| **바텀** | 1550 | 2100 | 550 | ✗ 과소 예측 |

**주요 발견**:
```
✓ 정글과 미드의 예측이 매우 정확 (오차 < 100)
  → 경제 흐름이 결정적인 요소

✗ 바텀의 과소 예측 (예측 1550 vs 실제 2100)
  → ADC-SUP 상호작용이 생각보다 복잡함

골드 격차의 의미:
   - 양수(+): 블루팀(아군) 우위
   - 음수(-): 레드팀(적군) 우위
   - 절댓값이 클수록 경제 차이 큼

전략적 시사:
   TOP/MID: 골드 격차가 작음 (원래 그렇게 설계됨)
   JUNGLE: 높은 골드 격차 (갱크 성공 시 극대화)
   BOTTOM: 가장 큰 골드 격차 (2v2 승패에 따라 결정)
```

---

### 5.7 골드 격차 Radar Chart (소환사 비교)

<a align="center">                            
<img src="images/radar_chart.png" width="600"></a> 

*그림 7: 라인별 골드 격차 Radar Chart (예측 vs 실제)*

**분석 내용**:
- **빨강 영역**: LSTM 모델의 예측 기여도
- **파랑 영역**: 게임의 실제 기여도
- **4개 축**: 탑, 정글, 미드, 바텀
- **다각형 면적**: 전체 기여도의 크기

**레이더 차트 해석**:

```
            정글
           /   \
          /     \
    탑 ─────────── 미드
          \     /
           \   /
           바텀

파랑 영역(실제) > 빨강 영역(예측) 
→ 모델이 과소 예측했다는 의미
```

**주요 발견**:
```
✓ 정글 축이 가장 크다
  → 정글의 골드 격차가 최대 (1350+)

✓ 탑 축이 가장 작다  
  → 탑은 항상 경제 격차가 작음 (-100)

✓ 파랑(실제) > 빨강(예측) 전반적 현상
  → LSTM이 전체적으로 약간 낮게 예측

💡 다각형 모양의 의미:
   - 원형에 가까움: 균형잡힌 라인 기여도
   - 찌그러짐: 특정 라인에 편중된 경제
```

---

### 5.8 산점도: 예측값 vs 실제값 (모델 정확도)

<a align="center">                            
<img src="images/scatter_pred_vs_real.png" width="600"></a> 

*그림 8: LSTM 모델의 예측 정확도 평가 (산점도)*

**분석 내용**:
- **x축**: 게임의 실제 골드 격차
- **y축**: LSTM 모델의 예측값
- **점**: 각 라인의 예측 결과
- **대각선(y=x)**: 완벽한 예측

**산점도 해석**:

```
예측 │         ◆(좋은 예측)
     │      ◆  
2000 │   ◆ ◆
     │   ◆ ◆
1500 │  ◆ ◆ ─── 완벽 예측선
     │ ◆ ◆ /
1000 │◆ ◆ /
     │◆ /
 500 │/
   0 └─────────────────────
    -1000  0   500  1000  1500  2000
        실제 (x축)
```

**점들의 위치**:
- **대각선 위**: 예측값 > 실제값 (과대 예측)
- **대각선 아래**: 예측값 < 실제값 (과소 예측)
- **대각선에 가까움**: 정확한 예측

**주요 발견**:
```
✓ 점들이 대각선 근처에 분포
  → LSTM 모델의 예측이 전반적으로 정확함

✓ 오른쪽 상단(큰 값)에서 약간 분산
  → 높은 골드 격차일수록 예측이 어려움

✓ 평균적으로 약간 위쪽에 위치
  → 모델이 약간 과대 예측하는 경향

성능 지표:
   - R² Score: 모델 설명력 (0~1)
   - RMSE: 평균 제곱근 오차 (낮을수록 좋음)
   - 상관계수: 예측과 실제의 순위 일관성
```

---

## 7. 주의사항

### 7.1 필수 준수 사항

#### 1. 승패 라벨 사용 제한
```
금지:
  - 승/패를 종속변수(Y)로 하는 분류 모델 학습
  - 로지스틱 회귀로 기여도 → 승리 예측
  - 의사결정나무로 기여도 분류

허용:
  - 승패별 기여도 분포 시각화 (설명용)
  - 기여도와 승리율의 상관성 분석 (통계)
  - "기여도 > 1.0일 때 승리율은 X%"라는 해석
```

#### 2. 기여도 정의의 자유도 vs 고정성
```
자유도 (팀별 설계):
  ✓ 기여도를 계산하는 지표의 선택
  ✓ 지표의 가중치 설정
  ✓ 정규화 방식 (Min-Max, Z-score, etc.)

고정성 (동일 기준):
  ✓ 아웃풋 형태는 동일 (Box/Violin, 산점도)
  ✓ 절대 스케일 기준 = 중앙값 1.0
  ✓ 평가 기준 동일
  → 팀 간 비교 가능성 보장
```

#### 3. 분단위 정보 활용
```
필수:
  ✓ 기여도는 분단위 시계열 데이터(0~25분)로부터 도출
  ✓ 시간의 흐름을 반영한 분석
  ✓ 초반/중반/후반 기여도의 변화 추적

금지:
  경기 최종 통계(최종 골드, 최종 킬 등)만 사용
  시간대 정보 무시
  평균값만 사용하여 동적 변화 무시
```

---

### 7.2 데이터 품질 관리

#### 결측값 처리
```
결측값 정의:
- match_data 또는 timeline_data 파일 부재
- 게임이 15분 이전에 종료
- 플레이어 정보 불완전 (라인 정보 없음)

처리 방식:
1. 결측값 포함 경기 제외
2. 로깅: "제외된 경기 N건, 사유: [...]"
3. 최종 분석 샘플 수 명시: "N경기 / 53,000경기 (X%)"
```

#### 이상치 처리
```
이상치 정의:
- 기여도 > 10.0 또는 < 0.1 (극단값)
- 게임 길이 > 80분 (매우 긴 게임)

처리 방식:
1. 통계적 정의: (사분위수) 범위 기반 식별
2. 선택:
   - 유지: 극단값도 실제 데이터 (L자 분포 반영)
   - 제외: 분석 안정성 우선
3. 선택 방식 명시: "Q1-1.5×IQR ~ Q3+1.5×IQR" 등
```

---


